import { GoogleGenerativeAI } from "@google/generative-ai";
  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location : Las Vegas, for 3 Days for Couple with a Cheap budget ,Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and  suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a 3-day Las Vegas itinerary for a couple on a budget, along with budget-friendly hotel options, and all the details in JSON format.  This plan focuses on free attractions, affordable food, and maximizing your enjoyment without breaking the bank.\n\n**Important Considerations for a Budget Trip:**\n\n*   **Timing:** Visiting during the week (Sunday-Thursday) is significantly cheaper than weekends.  Avoid major holidays and conventions.\n*   **Transportation:** Walk as much as possible on the Strip. Utilize the free trams connecting some casinos. Consider using ride-sharing services (Uber/Lyft) sparingly, and compare prices.  The Las Vegas Monorail is an option but can add up.\n*   **Food:** Look for happy hour deals, affordable eateries, and consider getting groceries for breakfast and snacks to save money.\n*   **Gambling:** If you gamble, set a strict budget *before* you start and stick to it.  It's easy to lose track of money in casinos.\n*   **Free Activities:** Vegas has tons of free things to do, so prioritize those.\n\n**JSON Format Structure:**\n\nThe overall structure will be a single JSON object containing the following keys:\n\n*   `hotelOptions`: An array of budget hotel options.\n*   `itinerary`: An object containing the 3-day itinerary, with keys `day1`, `day2`, and `day3`.  Each day will be an array of activities.\n\n**JSON Output:**\n\n```json\n{\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel, Casino & Theme Park\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": 40,\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/22/77/ff/8c/circus-circus-hotel-casino.jpg?w=1200&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1263,\n        \"longitude\": -115.1659\n      },\n      \"rating\": 3.5,\n      \"description\": \"Budget-friendly option with a carnival atmosphere, free circus acts, and a theme park.  Rooms are basic but clean. A bit further north on the Strip.\"\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": 50,\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/10/1c/1e/fa/excalibur-hotel-casino.jpg?w=1200&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0986,\n        \"longitude\": -115.1744\n      },\n      \"rating\": 3.8,\n      \"description\": \"Medieval-themed hotel at the south end of the Strip.  Affordable rates and easy access to other major attractions.  Rooms are decent for the price.\"\n    },\n    {\n      \"hotelName\": \"Luxor Hotel & Casino\",\n      \"hotelAddress\": \"3900 S Las Vegas Blvd, Las Vegas, NV 89119\",\n      \"price\": 55,\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/13/48/d9/83/luxor-hotel-casino.jpg?w=1200&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0956,\n        \"longitude\": -115.1759\n      },\n      \"rating\": 4.0,\n      \"description\": \"Iconic pyramid-shaped hotel. Offers reasonable prices, a variety of attractions, and is located at the south end of the Strip.  Good value for the experience.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": [\n      {\n        \"placeName\": \"Welcome to Las Vegas Sign\",\n        \"placeDetails\": \"Iconic photo opportunity. Get there early to avoid crowds.\",\n        \"placeImageUrl\": \"https://www.vegas.com/wp/wp-content/uploads/2018/04/welcome-to-las-vegas-sign.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.0829,\n          \"longitude\": -115.1733\n        },\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.5,\n        \"bestTimeToVisit\": \"Early morning (before 9 AM) or late evening (after 9 PM).\",\n        \"timeTravel\": \"15 mins from Excalibur\"\n      },\n      {\n        \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n        \"placeDetails\": \"Stunning seasonal floral displays. Free to enter.\",\n        \"placeImageUrl\": \"https://www.bellagio.com/content/dam/MGM/bellagio/entertainment/conservatory-botanical-garden/bellagio-conservatory-garden-overview-01.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1126,\n          \"longitude\": -115.1747\n        },\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.8,\n        \"bestTimeToVisit\": \"Mid-morning (10 AM - 12 PM) on a weekday.\",\n        \"timeTravel\": \"20 mins from Welcome to Las Vegas Sign via bus.\"\n      },\n      {\n        \"placeName\": \"Bellagio Fountains Show\",\n        \"placeDetails\": \"Spectacular water show synchronized to music. Free to watch.\",\n        \"placeImageUrl\": \"https://cache.marriott.com/marriottassets/destinations/image/las-vegas-bellagio-fountains-destination.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1127,\n          \"longitude\": -115.1748\n        },\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.9,\n        \"bestTimeToVisit\": \"Anytime, but evenings are most dramatic. Shows every 30 minutes in the afternoon/evening.\",\n        \"timeTravel\": \"Adjacent to the Conservatory.\"\n      },\n      {\n        \"placeName\": \"High Roller Observation Wheel\",\n        \"placeDetails\": \"Enjoy a full 360 degree view of the Las Vegas Strip.\",\n        \"placeImageUrl\": \"https://www.caesars.com/content/dam/clv/things-to-do/attractions/the-high-roller/clv_high_roller_exterior_night_1200x630.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1173,\n          \"longitude\": -115.1691\n        },\n        \"ticketPricing\": \"From $25\",\n        \"rating\": 4.5,\n        \"bestTimeToVisit\": \"Sunset for the best views.\",\n        \"timeTravel\": \"20 mins from Bellagio via walking and tram.\"\n      },\n      {\n        \"placeName\": \"Fremont Street Experience\",\n        \"placeDetails\": \"Downtown Las Vegas's pedestrian mall featuring the Viva Vision light show and street performers. Free to enter, but attractions cost extra.\",\n        \"placeImageUrl\": \"https://www.vegasexperience.com/wp-content/uploads/2018/03/viva-vision-light-show.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1701,\n          \"longitude\": -115.1421\n        },\n        \"ticketPricing\": \"Free (attractions extra)\",\n        \"rating\": 4.6,\n        \"bestTimeToVisit\": \"Evening for the Viva Vision light shows (start at dusk).\",\n        \"timeTravel\": \"30 mins from High Roller via taxi or rideshare.\"\n      }\n    ],\n    \"day2\": [\n      {\n        \"placeName\": \"Seven Magic Mountains\",\n        \"placeDetails\": \"Colorful art installation south of Las Vegas. A good photo opportunity. Requires transportation (car or rideshare).\",\n        \"placeImageUrl\": \"https://sevenmagicmountains.com/wp-content/uploads/2016/04/IMG_4434edit.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 35.9741,\n          \"longitude\": -115.1881\n        },\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.4,\n        \"bestTimeToVisit\": \"Early morning or late afternoon for better lighting.\",\n        \"timeTravel\": \"30 mins from Strip via Car.\"\n      },\n      {\n        \"placeName\": \"Hoover Dam\",\n        \"placeDetails\": \"Marvel at the engineering of the Hoover Dam, take a tour, and enjoy the views of Lake Mead.\",\n        \"placeImageUrl\": \"https://www.usbr.gov/lc/hooverdam/images/gallery/aerial_dam-2.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.0157,\n          \"longitude\": -114.7372\n        },\n        \"ticketPricing\": \"$10- $30\",\n        \"rating\": 4.7,\n        \"bestTimeToVisit\": \"Weekdays to avoid the crowds.\",\n        \"timeTravel\": \"50 mins from Seven Magic Mountains via Car.\"\n      },\n      {\n        \"placeName\": \"Ethel M Chocolate Factory and Cactus Garden\",\n        \"placeDetails\": \"Free chocolate factory tour and a beautiful cactus garden. A good break from the Strip.\",\n        \"placeImageUrl\": \"https://ethelm.com/cdn/shop/files/Homepage_Carousel_Image_V2_1920x720.jpg?v=1688675034\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.0322,\n          \"longitude\": -115.0405\n        },\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.5,\n        \"bestTimeToVisit\": \"Anytime during opening hours.\",\n        \"timeTravel\": \"30 mins from Hoover Dam via car.\"\n      },\n      {\n        \"placeName\": \"Explore the LINQ Promenade\",\n        \"placeDetails\": \"Browse the shops, grab a bite to eat, and enjoy the lively atmosphere.\",\n        \"placeImageUrl\": \"https://media.cntraveler.com/photos/575391669f1d73072534e598/master/w_1920,c_limit/the-linq-promenade-las-vegas-nevada.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1169,\n          \"longitude\": -115.1693\n        },\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.2,\n        \"bestTimeToVisit\": \"Evening to enjoy the lights and ambiance.\",\n        \"timeTravel\": \"20 mins from Ethel M Chocolate Factory via Car.\"\n      }\n    ],\n    \"day3\": [\n      {\n        \"placeName\": \"The Venetian and The Palazzo\",\n        \"placeDetails\": \"Explore the canals, shops, and atmosphere of these luxurious resorts. Window shopping is free!\",\n        \"placeImageUrl\": \"https://media.cntraveler.com/photos/5a81991149221526702b558c/master/w_2048,c_limit/venetian-hotel-las-vegas-exterior.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1212,\n          \"longitude\": -115.1707\n        },\n        \"ticketPricing\": \"Free (Gondola ride extra)\",\n        \"rating\": 4.7,\n        \"bestTimeToVisit\": \"Mid-morning or afternoon.\",\n        \"timeTravel\": \"10 mins from Linq Promenade via walking.\"\n      },\n      {\n        \"placeName\": \"Mirage Volcano\",\n        \"placeDetails\": \"Watch the free volcano show erupt outside the Mirage hotel.\",\n        \"placeImageUrl\": \"https://assets.mirage.com/content/dam/MGM/mirage/entertainment/volcano/mirage-volcano-exterior-night-1200x630.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1186,\n          \"longitude\": -115.1743\n        },\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.6,\n        \"bestTimeToVisit\": \"Evenings (shows typically every hour from 8 PM to 11 PM).\",\n        \"timeTravel\": \"5 mins from The Venetian via Walking.\"\n      },\n      {\n        \"placeName\": \"Walk the Las Vegas Strip\",\n        \"placeDetails\": \"Soak in the atmosphere, people-watch, and enjoy the sights and sounds.\",\n        \"placeImageUrl\": \"https://travelnevada.com/wp-content/uploads/2023/03/Las-Vegas-Strip-at-Night_MGM-Resorts_Credit-Las-Vegas-News-Bureau.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1146,\n          \"longitude\": -115.1728\n        },\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.5,\n        \"bestTimeToVisit\": \"Anytime, but evenings are especially vibrant.\",\n        \"timeTravel\": \"From Mirage Volcano.\"\n      },\n      {\n        \"placeName\": \"M&M's World\",\n        \"placeDetails\": \"Four floors of M&M's fun. Browse the merchandise and take some photos.\",\n        \"placeImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/05/00/7d/c4/m-m-s-world.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1077,\n          \"longitude\": -115.1704\n        },\n        \"ticketPricing\": \"Free admission (purchases extra)\",\n        \"rating\": 4.3,\n        \"bestTimeToVisit\": \"Anytime during opening hours.\",\n        \"timeTravel\": \"10 mins from Las Vegas Strip via walking.\"\n      },\n      {\n        \"placeName\": \"Container Park\",\n        \"placeDetails\": \"Unique shopping and dining experience made from shipping containers.  Good for a casual dinner.\",\n        \"placeImageUrl\": \"https://downtownsummerlin.com/wp-content/uploads/2023/04/Container-Park-1024x576.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1688,\n          \"longitude\": -115.1401\n        },\n        \"ticketPricing\": \"Free admission (food and shopping extra)\",\n        \"rating\": 4.4,\n        \"bestTimeToVisit\": \"Evening for the atmosphere and entertainment.\",\n        \"timeTravel\": \"30 mins from M&M World via taxi or rideshare.\"\n      }\n    ]\n  }\n}\n```\n\n**Explanation and Tips:**\n\n*   **Hotel Choices:** These hotels offer relatively low rates, but read reviews carefully before booking. Be aware of resort fees, which can add to the total cost.\n*   **Day 1:** Focuses on the central Strip and the iconic Fremont Street Experience.\n*   **Day 2:** Venture off the Strip to see the natural beauty and engineering marvels outside of Vegas.\n*   **Day 3:** Finishes with more Strip attractions and a unique downtown experience.\n*   **Flexibility:** This is a suggested itinerary. Feel free to adjust it based on your interests.\n*   **Reservations:**  Book hotels in advance, especially if traveling during peak season. Consider booking tours or shows in advance for the best prices and availability.\n*   **Hydration:**  Las Vegas is a desert. Drink plenty of water to avoid dehydration.\n*   **Sun Protection:** Wear sunscreen, sunglasses, and a hat, even in winter.\n*   **Enjoy!** Las Vegas has something for everyone. Have a fantastic trip!\n\n**To use this JSON:**\n\n1.  Copy the entire JSON content.\n2.  Paste it into a text editor and save it with a `.json` extension (e.g., `vegas_plan.json`).\n3.  You can then use a JSON parser (many online tools are available) or read it into a program to access the data.  For example, in Python:\n\n```python\nimport json\n\nwith open('vegas_plan.json', 'r') as f:\n    data = json.load(f)\n\nprint(data['hotelOptions'][0]['hotelName']) # Accessing the first hotel's name\nfor day, activities in data['itinerary'].items():\n    print(f\"Day: {day}\")\n    for activity in activities:\n        print(f\" - {activity['placeName']}\")\n```\n\nThis code will load the JSON data and allow you to access and use the information in your program.  Remember to tailor the itinerary to your specific preferences!\n"},
          ],
        },
      ],
    });
  